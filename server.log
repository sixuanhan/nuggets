START OF LOG
message_init: ready at port '33808'
message_loop: message ready on socket
message_loop: FROM 127.0.0.1:39275
message_loop: 1 lines:
PLAY steven
message_send: TO 127.0.0.1:39275
message_send: 1 lines:
OK A
message_send: TO 127.0.0.1:39275
message_send: 1 lines:
GRID 79 21
message_send: TO 127.0.0.1:39275
message_send: 1 lines:
GOLD 0 0 250
message_send: TO 127.0.0.1:39275
message_send: 2 lines:
DISPLAY
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
message_loop: message ready on socket
message_loop: FROM 127.0.0.1:39275
message_loop: 1 lines:
SPECTATE
message_send: TO 127.0.0.1:39275
message_send: 1 lines:
GRID 79 21
message_send: TO 127.0.0.1:39275
message_send: 1 lines:
GOLD 0 0 250
message_send: TO 127.0.0.1:39275
message_send: 2 lines:
DISPLAY
  +----------+                                                                   |.....*....|                 +---------+                                       |*.*.......####              |.......*.|                +-------+              |..........|                 +-----#---+                |.......|              +---------#+                       #              #######...*...|                        #                        #              #     +---#---+                        #  +-----------+         #     +--------#+        #                            ####...........##############  |.........|        #                               |...........|            #  |.........|        #                               +-----------+            ####.........|        #                                                           +----#----+        #                                                                #    +--------#--+                  +---------------------------------+        #    |...........|                  |..........*.*......*.............|        ######...........|                  |..............**........*........|        #    |*..........|                  |**....+---------------+..........|        #    |**.....*...|                  |.....*|               |..........##########    +-----------+                  |......|               |..........|                                            |......|               |..........|                                            |.**...|               |..*......*|                                            +------+               +----------+                                       
message_loop: message ready on socket
message_loop: FROM 127.0.0.1:39275
message_loop: 1 lines:
SPECTATE
message_send: TO 127.0.0.1:39275
message_send: 1 lines:
QUIT You have been replaced by a new spectator.
message_send: TO 127.0.0.1:39275
message_send: 1 lines:
GRID 79 21
message_send: TO 127.0.0.1:39275
message_send: 1 lines:
GOLD 0 0 250
message_send: TO 127.0.0.1:39275
message_send: 2 lines:
DISPLAY
  +----------+                                                                   |.....*....|                 +---------+                                       |*.*.......####              |.......*.|                +-------+              |..........|                 +-----#---+                |.......|              +---------#+                       #              #######...*...|                        #                        #              #     +---#---+                        #  +-----------+         #     +--------#+        #                            ####...........##############  |.........|        #                               |...........|            #  |.........|        #                               +-----------+ ==2388862== 
==2388862== Process terminating with default action of signal 2 (SIGINT)
==2388862==    at 0x4A8E74D: select (select.c:69)
==2388862==    by 0x10C128: message_loop (message.c:333)
==2388862==    by 0x10A787: main (server.c:99)
==2388862== 
==2388862== HEAP SUMMARY:
==2388862==     in use at exit: 14,619 bytes in 33 blocks
==2388862==   total heap usage: 47 allocs, 14 frees, 37,039 bytes allocated
==2388862== 
==2388862== 8 bytes in 1 blocks are still reachable in loss record 1 of 12
==2388862==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2388862==    by 0x10CF0E: mem_malloc (mem.c:69)
==2388862==    by 0x10C802: counters_new (counters.c:45)
==2388862==    by 0x10A859: game_new (server.c:128)
==2388862==    by 0x10AD9F: parseArgs (server.c:282)
==2388862==    by 0x10A6B8: main (server.c:83)
==2388862== 
==2388862== 40 bytes in 1 blocks are still reachable in loss record 2 of 12
==2388862==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2388862==    by 0x10CEA6: mem_malloc_assert (mem.c:54)
==2388862==    by 0x10A7CB: game_new (server.c:122)
==2388862==    by 0x10AD9F: parseArgs (server.c:282)
==2388862==    by 0x10A6B8: main (server.c:83)
==2388862== 
==2388862== 40 bytes in 1 blocks are still reachable in loss record 3 of 12
==2388862==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2388862==    by 0x10CEA6: mem_malloc_assert (mem.c:54)
==2388862==    by 0x10AAAB: player_new (server.c:208)
==2388862==    by 0x10B119: handlePLAY (server.c:359)
==2388862==    by 0x10AE5E: handleMessage (server.c:304)
==2388862==    by 0x10C457: message_loop (message.c:387)
==2388862==    by 0x10A787: main (server.c:99)
==2388862== 
==2388862== 50 bytes in 1 blocks are still reachable in loss record 4 of 12
==2388862==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2388862==    by 0x10CEA6: mem_malloc_assert (mem.c:54)
==2388862==    by 0x10AF71: handlePLAY (server.c:331)
==2388862==    by 0x10AE5E: handleMessage (server.c:304)
==2388862==    by 0x10C457: message_loop (message.c:387)
==2388862==    by 0x10A787: main (server.c:99)
==2388862== 
==2388862== 81 bytes in 1 blocks are definitely lost in loss record 5 of 12
==2388862==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2388862==    by 0x10CD0F: file_readUntil (file.c:66)
==2388862==    by 0x10CCAB: file_readLine (file.c:49)
==2388862==    by 0x10AD80: parseArgs (server.c:278)
==2388862==    by 0x10A6B8: main (server.c:83)
==2388862== 
==2388862== 352 bytes in 22 blocks are still reachable in loss record 6 of 12
==2388862==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2388862==    by 0x10CF0E: mem_malloc (mem.c:69)
==2388862==    by 0x10C8FA: countersnode_new (counters.c:97)
==2388862==    by 0x10CA19: counters_set (counters.c:148)
==2388862==    by 0x10A9B5: game_scatter_gold (server.c:168)
==2388862==    by 0x10ADEC: parseArgs (server.c:286)
==2388862==    by 0x10A6B8: main (server.c:83)
==2388862== 
==2388862== 472 bytes in 1 blocks are still reachable in loss record 7 of 12
==2388862==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2388862==    by 0x49F26CD: __fopen_internal (iofopen.c:65)
==2388862==    by 0x49F26CD: fopen@@GLIBC_2.2.5 (iofopen.c:86)
==2388862==    by 0x10A703: main (server.c:91)
==2388862== 
==2388862== 1,024 bytes in 1 blocks are still reachable in loss record 8 of 12
==2388862==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2388862==    by 0x49F1C23: _IO_file_doallocate (filedoalloc.c:101)
==2388862==    by 0x4A00D5F: _IO_doallocbuf (genops.c:347)
==2388862==    by 0x49FFFDF: _IO_file_overflow@@GLIBC_2.2.5 (fileops.c:744)
==2388862==    by 0x49FE754: _IO_new_file_xsputn (fileops.c:1243)
==2388862==    by 0x49FE754: _IO_file_xsputn@@GLIBC_2.2.5 (fileops.c:1196)
==2388862==    by 0x49EA08B: outstring_func (vfprintf-internal.c:239)
==2388862==    by 0x49EA08B: __vfprintf_internal (vfprintf-internal.c:1517)
==2388862==    by 0x49D381E: printf (printf.c:33)
==2388862==    by 0x10A6EA: main (server.c:89)
==2388862== 
==2388862== 1,040 bytes in 1 blocks are still reachable in loss record 9 of 12
==2388862==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2388862==    by 0x10CEA6: mem_malloc_assert (mem.c:54)
==2388862==    by 0x10A83A: game_new (server.c:126)
==2388862==    by 0x10AD9F: parseArgs (server.c:282)
==2388862==    by 0x10A6B8: main (server.c:83)
==2388862== 
==2388862== 1,660 bytes in 1 blocks are still reachable in loss record 10 of 12
==2388862==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2388862==    by 0x10CEA6: mem_malloc_assert (mem.c:54)
==2388862==    by 0x10A7FF: game_new (server.c:123)
==2388862==    by 0x10AD9F: parseArgs (server.c:282)
==2388862==    by 0x10A6B8: main (server.c:83)
==2388862== 
==2388862== 1,660 bytes in 1 blocks are still reachable in loss record 11 of 12
==2388862==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2388862==    by 0x10CEA6: mem_malloc_assert (mem.c:54)
==2388862==    by 0x10AAD5: player_new (server.c:210)
==2388862==    by 0x10B119: handlePLAY (server.c:359)
==2388862==    by 0x10AE5E: handleMessage (server.c:304)
==2388862==    by 0x10C457: message_loop (message.c:387)
==2388862==    by 0x10A787: main (server.c:99)
==2388862== 
==2388862== 8,192 bytes in 1 blocks are still reachable in loss record 12 of 12
==2388862==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2388862==    by 0x49F1C74: _IO_file_doallocate (filedoalloc.c:101)
==2388862==    by 0x4A00D5F: _IO_doallocbuf (genops.c:347)
==2388862==    by 0x49FFFDF: _IO_file_overflow@@GLIBC_2.2.5 (fileops.c:744)
==2388862==    by 0x49FE754: _IO_new_file_xsputn (fileops.c:1243)
==2388862==    by 0x49FE754: _IO_file_xsputn@@GLIBC_2.2.5 (fileops.c:1196)
==2388862==    by 0x49F2B1C: fputs (iofputs.c:38)
==2388862==    by 0x10C656: flog_v (log.c:74)
==2388862==    by 0x10C4F2: flog_init (log.c:18)
==2388862==    by 0x10B842: log_init (log.h:46)
==2388862==    by 0x10B912: message_init (message.c:62)
==2388862==    by 0x10A713: main (server.c:92)
==2388862== 
==2388862== LEAK SUMMARY:
==2388862==    definitely lost: 81 bytes in 1 blocks
==2388862==    indirectly lost: 0 bytes in 0 blocks
==2388862==      possibly lost: 0 bytes in 0 blocks
==2388862==    still reachable: 14,538 bytes in 32 blocks
==2388862==         suppressed: 0 bytes in 0 blocks
==2388862== 
==2388862== Use --track-origins=yes to see where uninitialised values come from
==2388862== For lists of detected and suppressed errors, rerun with: -s
==2388862== ERROR SUMMARY: 10 errors from 8 contexts (suppressed: 0 from 0)
